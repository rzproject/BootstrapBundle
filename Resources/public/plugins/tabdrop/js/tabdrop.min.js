(function(b){var k=function(){var a=[],c=false,e,h=function(){clearTimeout(e);e=setTimeout(i,100)},i=function(){for(var d=0,f=a.length;d<f;d++)a[d].apply()};return{register:function(d){a.push(d);if(c===false){b(window).bind("resize",h);c=true}},unregister:function(d){for(var f=0,j=a.length;f<j;f++)if(a[f]==d){delete a[f];break}}}}(),g=function(a,c){this.element=b(a);this.dropdown=b('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+c.text+' <i class="icon-caret-down"></i></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element);
this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup");k.register(b.proxy(this.layout,this));this.layout()};g.prototype={constructor:g,layout:function(){var a=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&a.push(this)});if(a.length>0){a=b(a);this.dropdown.find("ul").empty().append(a);this.dropdown.find(".active").length==1?this.dropdown.addClass("active"):this.dropdown.removeClass("active")}else this.dropdown.addClass("hide")}};
b.fn.tabdrop=function(a){return this.each(function(){var c=b(this),e=c.data("tabdrop"),h=typeof a==="object"&&a;e||c.data("tabdrop",e=new g(this,b.extend({},b.fn.tabdrop.defaults,h)));typeof a=="string"&&e[a]()})};b.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'};b.fn.tabdrop.Constructor=g})(window.jQuery);
